#!/usr/bin/env bash
# **********************************************
# File: check_ip.sh
# **********************************************
# Date: 2017-03-07
# **********************************************
# By : XUYONG
# **********************************************
# To : 检测某网段在线IP
# **********************************************

#============================== config =================================
# 定义IP头
index_ip='192.168.1'


#============================== function =================================
# 检测函数
function check_online(){
echo "Online IP:"
echo "============================================="
for i in $(seq 1 254)
do
        (ping -c 2 ${index_ip}.${i} | grep -q 'ttl=' && echo "${index_ip}.${i} yes") &
done
sleep 4
}


#============================== main =================================
check_online